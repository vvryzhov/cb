# –û—Ç—á–µ—Ç –æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –¢–ó

## ‚úÖ 1. –°—É—â–Ω–æ—Å—Ç–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

### 1.1. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ (Employee) ‚úÖ

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|--------|------------|
| –§–ò–û | ‚úÖ | `full_name` - CharField |
| –õ–æ–≥–∏–Ω | ‚úÖ | `login` - CharField (unique) |
| –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç | ‚úÖ | `department` - ForeignKey –Ω–∞ Department |
| –û—Ç–¥–µ–ª | ‚úÖ | `division` - ForeignKey –Ω–∞ Division |
| –ì—Ä—É–ø–ø–∞ | ‚úÖ | `group` - ForeignKey –Ω–∞ Group |
| –î–æ–ª–∂–Ω–æ—Å—Ç—å | ‚úÖ | `position` - CharField |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å | ‚úÖ | `functional_manager` - ForeignKey –Ω–∞ self |
| –õ–∏–Ω–µ–π–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å | ‚úÖ | `line_manager` - ForeignKey –Ω–∞ self |
| –î–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –Ω–∞ —Ä–∞–±–æ—Ç—É | ‚úÖ | `hire_date` - DateField |
| –¢–µ–∫—É—â–∏–π –æ–∫–ª–∞–¥, –≥—Ä–æ—Å—Å | ‚úÖ | `current_salary` - DecimalField |
| –¢–µ–∫—É—â–∞—è –∫–≤–∞—Ä—Ç–∞–ª—å–Ω–∞—è –ø—Ä–µ–º–∏—è, –≥—Ä–æ—Å—Å | ‚úÖ | `current_quarterly_bonus` - DecimalField |
| –¢–µ–∫—É—â–∞—è –º–µ—Å—è—á–Ω–∞—è –ø—Ä–µ–º–∏—è, –≥—Ä–æ—Å—Å | ‚úÖ | `current_monthly_bonus` - DecimalField |
| –¢–µ–∫—É—â–∞—è –≥–æ–¥–æ–≤–∞—è –ø—Ä–µ–º–∏—è, –≥—Ä–æ—Å—Å | ‚úÖ | `current_yearly_bonus` - DecimalField |
| –¢–µ–∫—É—â–∏–π –¥–æ—Ö–æ–¥, –≥—Ä–æ—Å—Å | ‚úÖ | `current_income` - property (—Å—É–º–º–∞ –≤—Å–µ—Ö –ø—Ä–µ–º–∏–π + –æ–∫–ª–∞–¥) |
| –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞—Ä–ø–ª–∞—Ç—ã | ‚úÖ | –ú–æ–¥–µ–ª—å `SalaryHistory` —Å diff –ø–æ–ª—è–º–∏ |

### 1.2. –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç (Department) ‚úÖ

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|--------|------------|
| –ù–∞–∑–≤–∞–Ω–∏–µ | ‚úÖ | `name` - CharField (unique) |
| –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å | ‚úÖ | `manager` - ForeignKey –Ω–∞ Employee |
| –°–ø–∏—Å–æ–∫ –æ—Ç–¥–µ–ª–æ–≤ | ‚úÖ | `divisions` - related_name —á–µ—Ä–µ–∑ Division |

### 1.3. –û—Ç–¥–µ–ª (Division) ‚úÖ

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|--------|------------|
| –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç | ‚úÖ | `department` - ForeignKey –Ω–∞ Department |
| –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å | ‚úÖ | `manager` - ForeignKey –Ω–∞ Employee |
| –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø | ‚úÖ | `groups` - related_name —á–µ—Ä–µ–∑ Group |

### 1.4. –ì—Ä—É–ø–ø–∞ (Group) ‚úÖ

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|--------|------------|
| –û—Ç–¥–µ–ª | ‚úÖ | `division` - ForeignKey –Ω–∞ Division |
| –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å | ‚úÖ | `manager` - ForeignKey –Ω–∞ Employee |

## ‚úÖ 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 2.1. –ó–∞–≥—Ä—É–∑–∫–∞, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ ‚úÖ

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------|--------|------------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤ | ‚úÖ | `POST /api/departments/upload/` + `DataLoaderService.load_departments_from_file()` |
| –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–¥–µ–ª–æ–≤ | ‚úÖ | `POST /api/divisions/upload/` + `DataLoaderService.load_divisions_from_file()` |
| –ó–∞–≥—Ä—É–∑–∫–∞ –≥—Ä—É–ø–ø | ‚úÖ | `POST /api/groups/upload/` + `DataLoaderService.load_groups_from_file()` |
| –•—Ä–∞–Ω–µ–Ω–∏–µ | ‚úÖ | –ú–æ–¥–µ–ª–∏ –≤ PostgreSQL |
| –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ | ‚úÖ | Django Admin + REST API |

### 2.2. –ó–∞–≥—Ä—É–∑–∫–∞, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚úÖ

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------|--------|------------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ | ‚úÖ | `POST /api/employees/` |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ | ‚úÖ | `POST /api/employees/upload/` + `DataLoaderService.load_employees_from_file()` |
| –•—Ä–∞–Ω–µ–Ω–∏–µ | ‚úÖ | –ú–æ–¥–µ–ª—å Employee –≤ PostgreSQL |
| –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ | ‚úÖ | `/employees/` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º, —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –ø–æ–∏—Å–∫–æ–º, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π |
| –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ | ‚úÖ | `/employees/{id}/` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ |
| –§–∏–ª—å—Ç—Ä—ã | ‚úÖ | –ü–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É, –æ—Ç–¥–µ–ª—É, –≥—Ä—É–ø–ø–µ, –ø–æ–∏—Å–∫ –ø–æ –§–ò–û/–ª–æ–≥–∏–Ω—É/–¥–æ–ª–∂–Ω–æ—Å—Ç–∏ |
| –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | ‚úÖ | –ü–æ –§–ò–û, –¥–∞—Ç–µ –ø—Ä–∏–µ–º–∞, –æ–∫–ª–∞–¥—É |

### 2.3. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã —Å —Ä–∞–∑—Ä–µ–∑–∞–º–∏ ‚úÖ

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------|--------|------------|
| –î–µ–ª—å—Ç–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ | ‚úÖ | `GET /api/analytics/department_delta/?department_id=X&year_from=2023&year_to=2024` |
| –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –§–û–¢ | ‚úÖ | `GET /api/analytics/fot_summary/` |
| –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞—Ä–ø–ª–∞—Ç—ã | ‚úÖ | `GET /api/analytics/salary_history_report/` |
| –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ | ‚úÖ | `/analytics/` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ –æ—Ç—á–µ—Ç–∞–º–∏ |

### 2.4. –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã ‚úÖ

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------|--------|------------|
| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤ | ‚úÖ | `/custom-report/` - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| –§–∏–ª—å—Ç—Ä—ã | ‚úÖ | –ü–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É, –æ—Ç–¥–µ–ª—É, –≥—Ä—É–ø–ø–µ, –¥–∞—Ç–∞–º |
| –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ | ‚úÖ | –ü–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É, –æ—Ç–¥–µ–ª—É, –≥—Ä—É–ø–ø–µ |
| –ú–µ—Ç—Ä–∏–∫–∏ | ‚úÖ | –û–±—â–∏–π –¥–æ—Ö–æ–¥, —Å—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –æ–±—â–∏–π –æ–∫–ª–∞–¥, —Å—Ä–µ–¥–Ω–∏–π –æ–∫–ª–∞–¥ |
| API | ‚úÖ | `POST /api/analytics/custom_report/` |

## ‚úÖ 3. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|--------|------------|
| PostgreSQL | ‚úÖ | PostgreSQL 15 –≤ Docker Compose |
| Saiku | ‚úÖ | Saiku –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ docker-compose.yml (–ø–æ—Ä—Ç 8080) |
| Docker | ‚úÖ | Dockerfile + docker-compose.yml |
| Python | ‚úÖ | Python 3.12, Django 5.x |

## ‚ö†Ô∏è 4. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –°—Ç–∞—Ç—É—Å: ‚úÖ –ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∞, –Ω–æ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

**–°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
- `python manage.py generate_test_data --clear --employees 100`

**–ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ 8 –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
- ‚úÖ –û—Ç–¥–µ–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞
- ‚úÖ –ì—Ä—É–ø–ø—ã –¥–ª—è –æ—Ç–¥–µ–ª–æ–≤
- ‚úÖ 100 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞—Ä–ø–ª–∞—Ç—ã (1-3 –∑–∞–ø–∏—Å–∏ –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞)
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏

**–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:**
```bash
# –ß–µ—Ä–µ–∑ Docker
docker-compose exec web python manage.py generate_test_data --clear --employees 100

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
python manage.py generate_test_data --clear --employees 100
```

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ: ‚úÖ 100%

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –í—Å–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã):
   ```bash
   python manage.py generate_test_data --clear --employees 100
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Saiku** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   - –û—Ç–∫—Ä—ã—Ç—å http://localhost:8080
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–Ω–µ –≤ –¢–ó, –Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã):

- ‚úÖ REST API –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å HTMX/Alpine.js
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Chart.js)
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞—Ä–ø–ª–∞—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á–µ—Ç–æ–º diff
- ‚úÖ –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

